id,category,element_name,description,core_element,hl7_segment,required,cardinality,element_type,phin_vads_links,hl7_archive_processed_name,hl7_archive_processing_description,processing_rationale,column_length,repeating_field
1,calculated,Message ID (System Generated),The ID associated with the record in the Archive Raw table that maps to the Archive Processed (or Exceptions) table,N/A,N/A,N/A,N/A,N/A,NA,Message_ID,Populated from Mirth; this ID is copied from the Archive Raw table for the message associated with the record in Archive Processed or Archive Exceptions table.  This value will be globally unique such that any ID appears one and only one time within the Archive.,Allow linking between raw and processed archive tables.,bigint,No
2,calculated,"Record creation date/time (Arrival Time, pre-processing)",Date message arrived at the BioSense Platform (may differ from date record was created),N/A,N/A,N/A,N/A,N/A,NA,Arrived_Date_Time,Date the message arrived at the BioSense Platform and was picked up for scrubbing,Date the message arrived at the BioSense Platform and was picked up for scrubbing,datetime2,N/A
2,calculated,"Record creation date (Arrival Date, pre-processing)",Date message arrived at the BioSense Platform (may differ from date record was created),N/A,N/A,N/A,N/A,N/A,NA,Arrived_Date,Date portion of Arrived_Date_Time,Date the message arrived at the BioSense Platform and was picked up for scrubbing,date,N/A
2,calculated,"Record creation date/time (Arrival Time, pre-processing)",Date message arrived at the BioSense Platform (may differ from date record was created),N/A,N/A,N/A,N/A,N/A,NA,Str_Arrived_Date_Time,"Date the message arrived at the BioSense Platform and was picked up for scrubbing

Stored as a String in the database",Date the message arrived at the BioSense Platform and was picked up for scrubbing,varchar(24),N/A
3,calculated,Record creation date/time (Processed Table),Internal field that captures the date/time the record was written to the processed table in the BioSense Platform Archive,N/A,N/A,N/A,N/A,N/A,NA,Create_Processed_Date_Time,Populated with the date/time the record is first written into the Processed Table of the BioSense Platform Archive,System value to log record creation date/time,datetime2,N/A
4,calculated,Record creation date/time (Raw Table),Internal field that captures the date/time the record was written to the raw table in the BioSense Platform Archive,No,N/A,N/A,N/A,N/A,NA,Create_Raw_Date_Time,Populated with the date/time the record is first written into the Raw Table of the BioSense Platform Archive,System value to log record creation date/time,datetime2,N/A
5,calculated,Record updated date/time,Internal field that captures the date/time the record was last updated in the database,No,N/A,N/A,N/A,N/A,NA,Update_Processed_Date_Time,"If a message is reprocessed, this field should capture the reprocessing date/time.  Create_Date_Time should not change.",System value to log a date/time associated with the reprocessing of an existing message,datetime2,N/A
6,calculated,Feed Name,CDC Feed Name associated with message,No,N/A,N/A,N/A,N/A,NA,Feed_Name,"Mirth will set this value based on the feed associated with the incoming message.

* For data converted from the Legacy environment, 
     - if legacy record was sent by phinms feed, we will place ""phinms""
     - if this value is blank, we will place ""Legacy_Unknown""
 - if value is populated in legacy record, we will copy that value over",System value to identify the feed associated with the message for tracking/troubleshooting.,varchar(80),N/A
7,calculated,Channel Name,CDC Channel Name associated with message,No,N/A,N/A,N/A,N/A,NA,Channel_Name,Mirth will set this value,System value to identify the feed associated with the message for tracking/troubleshooting.,varchar(80),N/A
8,direct input,Sending Application,Application sending the message,No,MSH-3.1,N/A,[0.. 1],HD,NA,Sending_Application,"Direct input from HL7 message
MSH-3.1","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(200),No
9,direct input,Receiving Application,Application receiving the message,No,MSH-5.1,N/A,[0.. 1],HD,NA,Receiving_Application,"Direct input from HL7 message
MSH-5.1","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(200),No
10,direct input,Receiving Facility,Facility receiving the message,No,MSH-6.1,N/A,[0.. 1],HD,NA,Receiving_Facility,"Direct input from HL7 message
MSH-6.1","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(200),No
11,direct input,Message Type,Type of message being sent,No,MSH-9.1,N/A,[1.. 1],MSG,https://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.6049,Message_Type,"Direct input from HL7 message
MSH-9.1","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(15),No
12,direct input,Trigger Event,Event that triggers a message submission; why the message was created,No,MSH-9.2,N/A,[1.. 1],ID,NA,Trigger_Event,"Direct input from HL7 message
MSH-9.2","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(15),No
13,direct input,Message Structure,Structure of the message,No,MSH-9.3,N/A,[1.. 1],ID,https://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.6047,Message_Structure,"Direct input from HL7 message
MSH-9.3","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(15),No
14,direct input,Message Control ID,Number or other identifier that uniquely identifies the message,No,MSH-10.1,N/A,[1.. 1],ST,NA,Message_Control_ID,"Direct input from HL7 message
MSH-10.1","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(200),No
15,direct input,Processing ID,"Value that defines whether the message is part of a production, training, or debugging system",No,MSH-11.1,N/A,[1.. 1],PT,NA,Processing_ID,"Direct input from HL7 message
MSH-11.1","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)

Do not filter any incoming data on this value.",varchar(15),No
16,direct input,Version ID,Identifies the HL7 version,No,MSH-12.1,N/A,[1.. 1],VID,NA,Version_ID,"Direct input from HL7 message
MSH-12.1","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(15),No
17,direct input,Message Profile Identifier,"Sites use this field to assert adherence to, or reference, a message profile",No,MSH-21.1,N/A,[1.. 1],EI,NA,Message_Profile_ID,"Direct input from HL7 message
MSH-21.1","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(500),No
18,calculated,Row number,Row number associated with message; internally generated as system writes a record to the table,No,N/A,N/A,N/A,N/A,NA,Processed_ID,Auto generated as the record is written in to the database,System value to identify the feed associated with the message for tracking/troubleshooting.,bigint,N/A
NA,direct input,Legacy Row Number,The Row Number that was created in Legacy BioSense and is preserved,NA,NA,NA,NA,N/A,NA,Legacy_Row_Number,Legacy BioSense Row Number,Allows connections for migrated data between Legacy BioSense and Archive,bigint,No
NA,calculated,Legacy Flag,A binary flag that will identify a record on whether it was migrated from Legacy BioSense or ingested as part of Standard Procedure for the Archive,NA,NA,NA,NA,N/A,NA,Legacy_Flag,"Flag that identifies whether a record was migrated from Legacy BioSense or ingested as part of Standard Procedure for the Archive

Y = Record was ingested from Legacy",There is value in maintaining a Legacy Flag in ESSENCE to allow users to segregate legacy data from Archive data.,char(1),No
19,not ingested,Accept Acknowledgement Type,NA,NA,MSH-15,N/A,[0.. 1],ID,NA,NA,Not Ingested,Not Ingested,NA,No
20,not ingested,Application Acknowledgement Type,NA,NA,MSH-16,N/A,[0.. 1],ID,NA,NA,Not Ingested,Not Ingested,NA,No
21,calculated,Site ID,The site ID associated with the message,No,N/A,N/A,N/A,N/A,NA,Site_ID,This value will be assigned during processing based on the feed_name from the message.,System value to identify the site from which the message was sent.,varchar(80),N/A
22,direct input,Admit or Encounter Reason - Code,Short description of the provider's reason for admitting the patient - Code,Yes,"PV2-3.1, PV2-3.4",RE,[0.. 1],CE,NA,Admit_Reason_Code,"Direct input from HL7 message:
* PV2-3.1
* PV2-3.4

Select first non-null value","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(8000),Yes
23,direct input,Admit or Encounter Reason - Description,Short description of the provider's reason for admitting the patient - Description,Yes,"PV2-3.2, PV2-3.5",RE,[0.. 1],CE,NA,Admit_Reason_Description,"Direct input from HL7 message:
* PV2-3.2
* PV2-3.5

Select first non-null value and concatenate if repeating","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(3000),Yes
24,direct input,Admit or Encounter Reason - Segment,Short description of the provider's reason for admitting the patient - Segment,Yes,PV2-3,N/A,[0.. 1],CE,NA,Admit_Reason_Combo,"Store Admit_Reason_Code and Admit_Reason_Description in this field, accounting for null values.

For Repeating Codes store the values using the following methodology:
Code Description;Code Description;…

Note the space between Code and Description","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(8000),Yes
24,direct input,Admit or Encounter Reason - Segment,Short description of the provider's reason for admitting the patient - Segment,Yes,PV2-3,N/A,[0.. 1],CE,NA,Admit_Reason_Segment,"Direct input from HL7 message
PV2-3

Concatenate repeating PV2-3 segments","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(8000),Yes
25,conditional input,Chief Complaint/ Reason for Visit,Patient's self-reported chief complaint or reason for visit,Yes,"OBX-2, OBX-3, OBX-5.1",RE,[0.. *],CWE,NA,Chief_Complaint_Code,"OBX-5.1, OBX-5.4 segments where:
* OBX-3 Observation Identifier is 8661-1 and/or 11292-0
* OBX-2 = ""CWE"" or ""CW""

Select first non-null value and concatenate if repeating",The CWE Chief Complaint type is a legacy format of Chief Complaint. It is being included to capture legacy data feeds.,varchar(8000),Yes
26,conditional input,Chief Complaint/ Reason for Visit,Patient's self-reported chief complaint or reason for visit,Yes,"OBX-2, OBX-3, OBX-5.1",RE,[0.. *],TX,NA,Chief_Complaint_Text,"OBX-5 segments where:
* OBX-3 Observation Identifier is 8661-1 and/or 11292-0
* OBX-2 = ""TX"" or ""CWE"" or ""CW""

Select all non-null values and concatenate:
IF OBX-2=""TX"" then Chief_Complaint_Text = OBX-5.1
IF OBX-2=""CWE"" or ""CW"" then Chief_Complaint_Text = concatenate(OBX-5.9, OBX-5.2, OBX-5.5)","The CWE Chief Complaint type is a legacy format of Chief Complaint. It is being included to capture legacy data feeds.

The TX Chief Complaint is from PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(3000),Yes
27,conditional input,Chief Complaint/ Reason for Visit - Segment,"Patient's self-reported chief complaint or reason for visit; if sending system treated this as a coded element, the segment will be stored",Yes,"OBX-2, OBX-3, OBX-5.1",N/A,[0.. *],CWE,NA,Chief_Complaint_Segment,"Entire OBX segment where:
* OBX-3 Observation Identifier is 8661-1 and/or 11292-0
",The CWE Chief Complaint type is a legacy format of Chief Complaint. It is being included to capture legacy data feeds.,varchar(8000),Yes
27.1,conditional input,Chief Complaint/ Reason for Visit - Segment,"Patient's self-reported chief complaint or reason for visit; if sending system treated this as a coded element, the segment will be stored",Yes,"OBX-2, OBX-3, OBX-5.1",N/A,[0.. *],CWE,NA,Chief_Complaint_Combo,"Store Chief_Complaint_Code and Chief_Complaint_Description in this field, accounting for null values.

For Repeating Codes store the values using the following methodology:
Code Description;Code Description;…

Note the space between Code and Description","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(8000),Yes
28,conditional input,Chief Complaint/ Reason for Visit - Type,Describes if the chief complaint was sent as text or as a coded element,No,N/A,N/A,N/A,N/A,NA,Chief_Complaint_Type,"Stores the type of information reflected in the Chief_Complaint_Text field.

Acceptable values:  ""CWE"" or ""TX"" or ""CW"" or ""CWE/TX"" or ""CW/CWE"" or ""CW/TX""",CWE/TX should be used if both types of chief complaint data are present in a single message.,varchar(20),Yes
29,calculated,Calculated Chief Complaint,Calculated field that stores the patient's reported chief complaint as well as the admit reason from the physician,No,N/A,N/A,N/A,N/A,https://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.909,C_Chief_Complaint,"Hierarchically defined (select first non-null):
* Chief_Complaint_Text
* Admit_Reason_Description","Rather than concatenating (and potentially affecting binning in ESSENCE), use this field to store a non-null value that can be passed to ESSENCE for binning.  Hierarchically defined order will place the first non-null value in this field.

Current ESSENCE binning does not scan for codes; however, if a code has a letter in it, that letter may affect binning (for example, if N appeared in a code, that would be read as nausea by the binning logic). Therefore, current processing includes only descriptive text for chief complaint or admit reason.
",varchar(8000),N/A
30,calculated,Calculated Chief Complaint - Source,Stores the source(s) of the calculated chief complaint field,No,N/A,N/A,N/A,N/A,NA,C_Chief_Complaint_Source,"Select the value that populated C_Chief_Complaint.  Valid Values:
* Chief_Complaint_Text
* Admit_Reason_Description
* null (if C_Chief_Complaint is null)",Capture the source(s) of the C_Chief_Complaint field.,varchar(200),N/A
32,conditional input,Age - Calculated (from message),Numeric value of patient age at time of visit - number,No,NA,NA,NA,NM,NA,Age_Calculated,"OBX-5 segment where OBX-3 segment ID '29553-5'

NOTE: If the Age Calculated measurement reported does not ""fit"" into the decimal(6,2) datatype, the measurement will not be stored in Age_Calculated. The string value of the measurement will still be stored in Str_Age_Calculated.","Not supported by PHIN Guide
Supported by HL7","decimal(6,2)",No
32,conditional input,Age - Calculated (from message),Numeric value of patient age at time of visit - number,No,NA,N/A,NA,NM,NA,Str_Age_Calculated,"OBX-5 segment where OBX-3 segment ID '29553-5' 

Stored as a String in the database","Not in PHIN guide; 
Still supported in HL7 however the PHIN guide does not.",varchar(10),No
33,conditional input,Age Units - Calculated (from message),Patient Age at time of visit - age units,No,NA,NA,NA,CE,https://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.3402,Age_Units_Calculated,OBX-6.2 segment where OBX-3 segment ID '29553-5',"Not in PHIN guide; 
Still supported in HL7 however the PHIN guide does not.",varchar(50),No
34,conditional input,Age - Reported (from message),Numeric value of patient age at time of visit - number,Yes,"OBX-2, OBX-3, OBX-5",RE,[0.. 1],NM,NA,Age_Reported,"OBX-5 segment where OBX-3 observation identifier of 21612-7 AGE-REPORTED (LOINC) and OBX-2 Value Type=""NM""

NOTE: If the Age Reported measurement reported does not ""fit"" into the decimal(6,2) datatype, the measurement will not be stored in Age_Reported. The string value of the measurement will still be stored in Str_Age_Reported.","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)","decimal(6,2)",No
34,conditional input,Age - Reported (from message),Numeric value of patient age at time of visit - number,Yes,"OBX-2, OBX-3, OBX-5",N/A,[0.. 1],NM,NA,Str_Age_Reported,"OBX-5 segment where OBX-3 observation identifier of 21612-7 AGE-REPORTED (LOINC) and OBX-2 Value Type=""NM"" 

Stored as a String in the database","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(10),No
35,conditional input,Age Units - Reported (from message),Patient Age at time of visit - age units,Yes,"OBX-2, OBX-3, OBX-6",RE,[0.. 1],CE,https://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.3402,Age_Units_Reported,"OBX-6.2 segment where OBX-3 observation identifier of 21612-7 AGE-REPORTED (LOINC) and OBX-2 Value Type=""NM""","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(50),No
36,direct input,Date/Time of Birth,Date of birth for patient,No,PID-7.1,O,[0.. 1],TS,NA,Birth_Date_Time,"Direct input from HL7 message
PID-7.1","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",datetime2,No
36,direct input,Date/Time of Birth,Date of birth for patient,No,PID-7.1,N/A,[0.. 1],TS,NA,Str_Birth_Date_Time,"Direct input from HL7 message
PID-7.1 

Stored as a String in the database","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(100),No
37,calculated,Calculated Age (Years),Calculated patient age in Years,No,N/A,N/A,N/A,N/A,NA,C_Patient_Age_Years,"Resolve the value returned in C_Patient_Age into a normalized Years value. The age of the patient should round down to the nearest Integer.

* If C_Patient_Age_Units begins with an M we will divide that value by 12 and round down.
* If C_Patient_Age_Units begins with a W we will divide that value by 52 and round down.
* If C_Patient_Age_Units begins with a D we will divide that value by 365 and round down.
* If C_Patient_Age_Units begins with a Y or ANNUM we will round down to the nearest whole number.

NOTE: The age calculation does not account for leap years at this time. This means the C_Patient_Age may be incorrect for patients with close birth dates and visit dates.",This field will store a normalized age for quicker analysis,int,N/A
38,calculated,Calculated Age,Calculated patient age,No,N/A,N/A,N/A,N/A,NA,C_Patient_Age,"Select the first non-null value from:
* C_Visit_Date - Birth_Date**
* Age_Reported 
* Age_Calculated 

** when performing the calculation, store the numeric year value if the value >= 2 years (round down to the nearest integer); else, store the number of months and round down to the nearest integer (i.e., 4.9 rounds to 4; 5.2 rounds to 5). If the number resolved is greater than 150 years the Birth_Date_Time column will be set to NULL and the calculation will continue down the hierarchy to Age_Reported or Age_Calculated.",As Age_Reported is the current standard we will check that before falling back on Age_Calculated.,varchar(10),N/A
38,calculated,Calculated Age - Units,Calculated patient age - units,No,N/A,N/A,N/A,N/A,https://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.3402,C_Patient_Age_Units,Units associated with the calculated patient age.,"As Age_Reported is the current standard we will check that before falling back on Age_Calculated.

 If the source is the visit-birth calculation, store years if the value is >= 2 years, else store months.  For Age_Reported or Age_Calculated, store Age_Units_Reported or Age_Units_Calculated.",varchar(50),N/A
39,calculated,Calculated Age - Source,Source of the calculated patient age,No,N/A,N/A,N/A,N/A,NA,C_Patient_Age_Source,"Source used to populate C_Patient_Age.  Value set includes:
* ""Processed""
* ""Reported""
* ""Calculated""",NA,varchar(15),N/A
40,direct input,Patient Class - Code,Patient classification within a facility - code,Yes,PV1-2.1,R,[1.. 1],IS,http://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.3404,Patient_Class_Code,"Direct input from HL7 message
PV1-2.1","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(20),No
41,conditional input,Facility/Visit Type - Code,Type of facility that the patient visited for treatment - Code,Yes,"OBX-2, OBX-3, OBX-5.1",R,[1.. 1],CWE,https://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.3401,Facility_Type_Code,"OBX-5 Segment where
* OBX-3 Observation Identifier SS003^Facility/visit type
* OBX-2=""CWE""

Populate this field with only the OBX-5.1 values (code)","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(50),No
42,conditional input,Facility/Visit Type - Description,Type of facility that the patient visited for treatment - Description,Yes,"OBX-2, OBX-3, OBX-5.2",R,[1.. 1],CWE,NA,Facility_Type_Description,"OBX-5 Segment where
* OBX-3 Observation Identifier SS003^Facility/visit type
* OBX-2=""CWE""

Populate this field with only the OBX-5.2 values (descriptions)","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(600),No
43,conditional input,Facility/Visit Type - Segment,Type of facility that the patient visited for treatment - Segment,Yes,"OBX-2, OBX-3, OBX-5",N/A,[1.. 1],CWE,NA,Facility_Type_Segment,"Entire OBX Segment where
* OBX-3 Observation Identifier SS003^Facility/visit type
* OBX-2=""CWE""

Populate this field with the entire OBX-5 segment","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(800),No
44,calculated,Inferred Patient Class,The inferred patient class from the facility type,No,N/A,N/A,N/A,N/A,NA,C_FacType_Patient_Class,"Perform calculation based on another database variable.

IF Facility_Type_Code is null then C_FacType_Patient_Class is null
ELSE IF Facility_Type_Code=261QE0002X then C_FacType_Patient_Class=E
ELSE IF Facility_Type_Code=1021-5 then C_FacType_Patient_Class=I
ELSE IF Facility_Type_Code=261QM2500X then C_FacType_Patient_Class=O
ELSE IF Facility_Type_Code=261QP2300X then C_FacType_Patient_Class=O
ELSE IF Facility_Type_Code=261QU0200X then C_FacType_Patient_Class=O",Contains a mapping of facility type to a patient class.,varchar(3),N/A
45,calculated,Calculated Patient Class,Calculated patient class,No,N/A,N/A,N/A,N/A,NA,C_Patient_Class,"Calculated patient class is set to: 
1) Patient_Class_Code (PV1-2) if it is non-null AND valid according to the PHIN standard (D, E, I, V, B, O, P, R)
2) ELSE use a mapped Patient_Class_Code (PV1-2), if non-null AND not valid AND one of the following mapped values: 
    - Emergency: E 
    - Inpatient: I 
    - Observation: V
     - EMER: E 
    - EMERGENCY: E
    - INPATIENT: I
    - HOS: I
    - OBSERVE: V
    - Emergency Department: E
    - Outpatient: O
    - ICU: I
     - Obsv: V
     - OUTPATIENT: O
     - ER: E
3) ELSE use C_FacType_Patient_Class
4) ELSE assign class value based on the inferred patient class associated with the primary entry on the MFT (C_MFT_Patient_Class).  (Requires a look-up to the MFT table for the entry flagged as primary with Site_ID-C_Facility_ID; return the Inferred_Patient_Class value matching that entry)",Hierarchy was determined to rely on the message but return an MFT value if all else fails to have a non-null patient class.,varchar(3),N/A
46,calculated,Patient Class from MFT,Patient Class associated with the primary facility from the MFT that matches the facility ID from incoming data,No,N/A,N/A,N/A,N/A,http://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.3404,C_MFT_Patient_Class,"Return the default patient class for the facility from the MFT (i.e., return the patient class associated with the primary entry for the matching facility)",NA,varchar(10),N/A
47,calculated,Calculated Patient Class - Source,Source of the information contained within the calculated patient class field,No,N/A,N/A,N/A,N/A,NA,C_Patient_Class_Source,"Documents the source of the calculated patient class variable 
Valid Values:
* PV1 if C_Patient_Class populated from PV1-2.1 (Patient_Class_Code)
* OBX if C_Patient_Class populated from C_FacType_Patient_Class
* MFT if C_Patient_Class set from primary entry on MFT (C_MFT_Patient_Class)",NA,varchar(3),N/A
48,direct input,Event Facility / Facility Identifier (Treating),Unique Facility identifier where the patient was treated (original provider of the data),Yes,EVN-7.2,R,[1.. 1],HD,NA,Treating_Facility_ID,"Direct input from HL7 message
EVN-7.2","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)
",varchar(200),No
49,conditional input,Sending Facility,Facility sending the message,No,"MSH-4.1, MSH-4.2",R,[0.. 1],HD,NA,Sending_Facility_ID,"Direct Input from HL7 Message: 
MSH-4.2 
MSH-4.1

Select the first non-null value","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)

Using the MSH-4.1 is a decision based on legacy decisions to ensure old data is properly captured.",varchar(200),No
50,calculated,Facility ID - Source,Source of the calculated facility ID,No,N/A,N/A,N/A,N/A,NA,C_Facility_ID_Source,"Return the source of the C_Facility_ID value.  Valid values:
* EVN-7.2
* MSH-4.2
* MSH-4.1",NA,varchar(10),N/A
51,calculated,Facility ID,Calculated Facility ID tied to the message,No,N/A,N/A,N/A,N/A,NA,C_Facility_ID,"Return the first non-null and valid value:
* Treating_Facility_ID (EVN-7.2)
* Sending_Facility (MSH-4.2 else 4.1)
Prepend winning Facility ID with the SiteID of the current record.

A valid value is one that is found on the MFT/Crosswalk:
* Compare the facility value to the Facility IDs associated with the site associated with the message; if it exists then set C_Facility_ID to that facility value, store the source of that calculation in C_Facility_ID_Source. Note that if the winning facility ID is an invalid status (for example it is set to Planned) this regard will still exception even if the MSH-4 is valid and a valid status.

If no valid values are found, set C_Facility_ID = the first non-null value, store the source of that value, and write the record to the Exceptions table.",Hierarchy was determined to be as accurate as possible.,varchar(200),N/A
52,calculated,Sending Facility,Source of the Sending Facility check (MSH-4.2 vs MSH-4.1),No,NA,NA,NA,N/A,NA,Sending_Facility_ID_Source,"Return the source of the Sending_FacilityID value.  Valid values:
* MSH-4.2 
* MSH-4.1",Record which component was selected between MSH-4.2 and MSH-4.1 in Sending_FacilityID,varchar(10),No
53,calculated,Processed Facility ID,Facility ID including a patient class,No,N/A,N/A,N/A,N/A,NA,C_Processed_Facility_ID,"Concatenate the following fields, using no separator:
* C_Facility_ID (includes Site_ID)
* C_Patient_Class",NA,varchar(300),N/A
54,direct input,Admit or Encounter Date/ Time,Date and time of encounter for admission,Yes,PV1-44.1,R,[1.. 1],TS,NA,Admit_Date_Time,"Direct input from HL7 message
PV1-44.1","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",datetime2,No
54,direct input,Admit or Encounter Date/ Time,Date and time of encounter for admission,Yes,PV1-44.1,N/A,[1.. 1],TS,NA,Str_Admit_Date_Time,"Direct input from the HL7 message
PV1-44.1

Stored as a String in the database","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(24),No
55,direct input,Discharge or Disposition Date/Time,Date and time of discharge,Yes,PV1-45.1,RE,[1.. 1],TS,NA,Discharge_Date_Time,"Direct input from HL7 message
PV1-45.1","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",datetime2,No
55,direct input,Discharge or Disposition Date/Time,Date and time of discharge,Yes,PV1-45.1,N/A,[1.. 1],TS,NA,Str_Discharge_Date_Time,"Direct input from HL7 message
PV1-45.1 

Stored as a String in the database","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(24),No
56,direct input,Date/Time of the Observation,Earliest date and time associated with the observation,No,OBX-14,O,[0.. 1],TS,NA,Observation_Date_Time,"Direct input from HL7 message
OBX-14

If repeating, select the earliest date.",It is possible to receive historic data here. For example if Height was taken from a previous appointment the recording system may simply reuse that OBX segment in the new visit while retaining the same OBX-14 from when it was initially recorded. While we should ingest it we should be cautious in using it for C_Visit_Date,datetime2,No
57,direct input,Procedure Date/Time,Date and time of the procedure,No,PR1-5.1,R,[1.. 1],TS,NA,Procedure_Date_Time,"Direct input from HL7 message
PR1-5.1

If repeating, select the earliest date.","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",datetime2,No
57,direct input,Procedure Date/Time,Date and time of the procedure,No,PR1-5.1,N/A,[1.. 1],TS,NA,Str_Procedure_Date_Time,"Direct input from HL7 message
PR1-5.1 

If repeating, select the earliest date.

Stored as a String in the database","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(24),No
58,direct input,Patient Death Date and Time,Date and time of patient's death,NA,PID-29.1,CE,[0.. 1],TS,NA,Death_Date_Time,"Direct input from HL7 message
PID-29.1","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",datetime2,No
58,direct input,Patient Death Date and Time,Date and time of patient's death,NA,PID-29.1,N/A,[0.. 1],TS,NA,Str_Death_Date_Time,"Direct input from HL7 message
PID-29.1 

Stored as a String in the database","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(24),No
59,direct input,Message (Event) Date/Time (Recorded Date/Time),Date and time that the report is created/generated from original source (from treating facility),Yes,EVN-2.1,R,[1.. 1],TS,NA,Recorded_Date_Time,"Direct input from HL7 message
EVN-2.1","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",datetime2,No
59,direct input,Message (Event) Date/Time (Recorded Date/Time),Date and time that the report is created/generated from original source (from treating facility),Yes,EVN-2.1,N/A,[1.. 1],TS,NA,Str_Recorded_Date_Time,"Direct input from HL7 message
EVN-2.1 

Stored as a String in the database","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(24),No
60,direct input,Date/Time of Message,Date and time that the message is sent,NA,MSH-7.1,R,[1.. 1],TS,NA,Message_Date_Time,"Direct input from HL7 message
MSH-7.1","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",datetime2,No
60,NA,Date of Message,Date of Message,NA,MSH-7.1,R,[1.. 1],TS,NA,Message_Date,Date portion of Message_Date_Time,NA,date,No
60,direct input,Date/Time of Message,Date and time that the message is sent,NA,MSH-7.1,N/A,[1.. 1],TS,NA,Str_Message_Date_Time,"Direct input from HL7 message
MSH-7.1 

Stored as a String in the database","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(24),No
61,direct input,Diagnosis Date/Time,Date and time of the diagnosis,No,DG1-5,O,[0.. 1],TS,NA,Diagnosis_Date_Time,"Direct input from HL7 message
DG1-5.1

If repeating, select the earliest date.","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)

Return the earliest date/time to select the first occurrence.",datetime2,No
62,calculated,Visit Date/ Time,The earliest date/time associated with the message; intended to reflect the date of the patient visit,No,N/A,N/A,N/A,N/A,NA,C_Visit_Date_Time,"Return the first non-null from:
* Admit Date/Time (PV1-44.1)
* Earliest Date/Time from:
** Discharge Date/Time (PV1.45.1) 
** Procedure Date/Time (PR1.5.1)
** Patient Death Date/Time (PID.29.1)
** Recorded Date/Time of Message (EVN.2.1)
** Date/Time of Message (MSH.7.1)

If this field is ever null then the record should not be processed into the Archive successfully. (i.e., Exceptions table)","Because Observation_Date_Time can sometimes contain dates from previous visits, we have decided to remove it from this processing. We will, however, still ingest it individually.

Future iterations of processing may consider implications of time zone.",datetime2,N/A
64,calculated,Visit Date/ Time,The earliest date associated with the message; intended to reflect the date of the patient visit,No,N/A,N/A,N/A,N/A,NA,C_Visit_Date,Date only portion of the C_Visit_Date_Time,NA,date,N/A
65,calculated,Visit Date/ Time Source,Source of the selected visit date/time,No,N/A,N/A,N/A,N/A,NA,C_Visit_Date_Source,"Returns the source of the date/time recorded in C_Visit_Date.  Valid values:
* ""Admit""
* ""Discharge""
* ""Procedure""
* ""Death""
* ""Recorded""
* ""Message""",NA,varchar(15),N/A
66,direct input,Time Zone,The time zone for the message,No,MSH-7.1,R,[1.. 1],TS,NA,Time_Zone,"Direct input from HL7 message MSH-7

Take any characters preceding the + or - sign in the MSH-7",NA,varchar(6),No
67,conditional input,Unique Patient Identifier (First),Unique identifier for the patient or visit,Yes,PID-3.1,R,[1.. *],CX,NA,First_Patient_ID,"Direct input from HL7 message
PID-3.1

Select the FIRST non-null value in the PID-3 segment regardless of the Type (PID-3.5)","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015).

We are taking the first value as Mirth SME has suggested this is often the most important PID-3 sent.",varchar(100),No
68,conditional input,Unique Patient Identifier (First),Assigning authority of the first identifier found in the PID-3 segment,No,PID-3.4,R,[1.. *],ST,NA,First_Patient_ID_Assigning_Authority,"Direct input from HL7 message
PID-3.4 value 

Take only the value associated with the first non-null PID-3.1 value.","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(200),No
69,conditional input,Unique Patient Identifier (First),Assigning facility of the first identifier found in the PID-3 segment,No,PID-3.6,O,[1.. *],HD,NA,First_Patient_ID_Assigning_Facility,"Direct input from HL7 message
PID-3.6 value 

Take only the value associated with the first non-null PID-3.1 value.","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(200),No
70,conditional input,Unique Patient Identifier (First),Identifier type of the first identifier found in the PID-3 segment,No,PID-3.5,O,[1.. *],ID,NA,First_Patient_ID_Type_Code,"Direct input from HL7 message
PID-3.5 value 

Take only the value associated with the first non-null PID-3.1 value.","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(3),No
71,direct input,Patient Account Number,Patient Account Number,No,PID-18.1,O,[0.. 1],CX,NA,Patient_Account_Number,"Direct input from HL7 message
PID-18.1","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(100),No
72,direct input,Unique Visit Identifier,Unique identifier for the visit/ encounter,Yes,PV1-19.1,R,[1.. 1],CX,NA,Visit_ID,"Direct input from HL7 message
PV1-19.1","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(100),No
73,direct input,Unique Visit Identifier - Assigning Authority,Assigning authority associated with the unique visit identifier,Yes,PV1-19.4,R,[1.. 1],CX,NA,Visit_ID_Assigning_Authority,"Direct input from HL7 message
PV1-19.4","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(200),No
74,direct input,Unique Visit Identifier - Assigning Facility,Assigning facility associated with the unique visit identifier,Yes,PV1-19.6,R,[1.. 1],CX,NA,Visit_ID_Assigning_Facility,"Direct input from HL7 message
PV1-19.6","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(200),No
75,conditional input,Medical Record Number,The medical record number (if provided) from the PID-3 segment,Yes,PID-3.1,R,[1.. *],CX,http://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.3597,Medical_Record_Number,"
Direct input from HL7 message, select the first non-null PID-3.1 value 
WHERE
PID-3.5 = ""MR"" (Medical Record Number)","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(100),No
76,conditional input,Medical Record Number - Assigning Authority,Assigning authority of the medical record number,No,PID-3.4,R,[1.. *],ST,NA,Medical_Record_Number_Assigning_Authority,"Direct input from HL7 message
PID-3.4 value 
WHERE
PID-3.5 = ""MR"" (Medical Record Number)

Take only the value associated with the PID-3.1 value stored in Medical_Record_Number","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(200),No
77,conditional input,Medical Record Number - Assigning Facility,Assigning facility of the medical record number,No,PID-3.6,O,[1.. *],HD,NA,Medical_Record_Number_Assigning_Facility,"Direct input from HL7 message
PID-3.6 value 
WHERE
PID-3.5 = ""MR"" (Medical Record Number)

Take only the value associated with the PID-3.1 value stored in Medical_Record_Number","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(200),No
78,calculated,Unique Patient Identifier,Calculated patient identifier,No,N/A,N/A,N/A,N/A,NA,C_Unique_Patient_ID,"Field must be populated.  If not populated, record is sent to the Exceptions table.

Scan the following fields/ HL7 segments and select the first non-null value:
* Medical_Record_Number
* Patient ID (PID-2.1) [Legacy]
* First_Patient_ID (PID-3)
* Patient_Account_Number (PID-18) 
* Visit_Number (PV1-19)","SMEs have informed that we should usually receive the Medical Record Number in an A08 if we received it in the A01. It would be good to rely on Medical Record Number and fall back on other segments.

PID-2 was prioritized over First_Patient_ID despite it being legacy as it is non-repeating whereas First_Patient_ID may not be ordered the same between A01s and A08s

If this field is left blank or has less than 3 characters this message will be exceptioned.",varchar(100),N/A
79,calculated,Unique Patient Identifier - Source,Calculated patient identifier - source,No,N/A,N/A,N/A,N/A,NA,C_Unique_Patient_ID_Source,"Return the source for Unique_Patient_ID.  Valid values:
* MedRecNo (PID-3)
* Legacy Patient ID (PID-2)
* Legacy PID-4 (PID-4) 
   * (PID-4 only applies to legacy migration)
* First Patient ID (PID-3)
* Patient Acct Num (PID-18)
* Visit Number (PV1-19)",NA,varchar(20),N/A
80,direct input,Patient Death Indicator (message),Patient Death Indicator from message,No,PID-30.1,CE,[0.. 1],ID,NA,Patient_Death_Indicator,"Direct input from HL7 message
PID-30.1","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(20),No
81,calculated,Patient Death Indicator,"Indicator of Patient Death, calculated",No,N/A,N/A,N/A,N/A,NA,C_Death,"Set to ""Yes"" IF:
* PID-30.1 (Patient_Death_Indicator) = First letter of ""Y"" and/or
* PID-29.1 is not null and/or
* PV1-36.1 contains ""20,"" ""22,"" ""23,"" ""24,"" ""25,"" ""26,"" ""27,"" ""28,"" ""29,"" ""40,"" ""41,"" or ""42""

ELSE set to ""No""",This is not a hierarchy but serves as an indicator of whether information associated with 'death' came in any area of the message.,varchar(3),N/A
82,calculated,Patient Death Indicator - source,Source of the patient death indicator,No,N/A,N/A,N/A,N/A,NA,C_Death_Source,"Return the source for C_Death.  Valid values:
* Indicator
* Death Date
* Disposition",NA,varchar(15),N/A
83,calculated,Unique  ID,"A unique ID is generated for each visit using the facility ID, regardless of patient class",No,N/A,N/A,N/A,N/A,NA,C_BioSense_ID,"Concatenate the following fields using ESSENCE's Formula:
* C_Visit_Date
* C_BioSense_Facility_ID 
* C_Unique_Patient_ID

Convert(varchar(20), C_Visit_Date , 102) 
+ '.' 
+ C_BioSense_Facility_ID
+ '_' 
+ C_Unique_Patient_ID",NA,varchar(400),N/A
84,calculated,Processed Visit ID,A unique visit ID is generated for each visit taking into account the facility ID and patient class,No,N/A,N/A,N/A,N/A,NA,C_Processed_BioSense_ID,"Concatenate the following fields, do not use a separator:
* C_Visit_Date 
* C_BioSense_Facility_ID 
* C_Patient_Class
* C_Unique_Patient_ID

Convert(varchar(20), C_Visit_Date , 102) 
+ '.' 
+ C_BioSense_Facility_ID
+ C_Patient_Class
+ '_' 
+ C_Unique_Patient_ID",NA,varchar(500),N/A
85,direct input,Patient Zip,Zip code of patient residence,Yes,PID-11.5,RE,[0.. 1],XAD,NA,Patient_Zip,"Direct input from HL7 message
PID-11.5","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(10),No
86,calculated,Patient County,County of Patient Residence,Yes,"PID-11.9, PID-12.1",RE,[0.. 1],XAD,NA,C_Patient_County,"Return the first non-null value from:
* PID-11.9
* PID-12.1","1) PID-12 is a legacy value still sent by some Sites; consequently, this value will continue to be captured for completion.
2) While PID-11 can repeat, the first instance is most important.",varchar(100),N/A
87,calculated,Patient County - Source,County of Patient Residence - Source,No,N/A,N/A,N/A,N/A,NA,C_Patient_County_Source,"Return the source of the first non-null value for patient_county.  Valid values:
* PID-11.9
* PID-12.1",NA,varchar(10),N/A
88,direct input,Diagnosis Code,Primary diagnosis of the patient's condition / Additional diagnoses of the patient's condition - code(s),Yes,DG1-3,RE,[1.. 1],CE,NA,Diagnosis_Code,"Direct input from HL7 message.
DG1-3.1, DG1-3.4

Select first non-null value and concatenate if repeating. (Note: semicolon is placed in first character to facilitate searches)","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(8000),Yes
89,direct input,Diagnosis Code Description,Primary diagnosis of the patient's condition / Additional diagnoses of the patient's condition - code description(s),Yes,DG1-3,RE,[1.. 1],CE,NA,Diagnosis_Description,"Direct input from HL7 message:
DG1-3.2, DG1-3.5

Select first non-null value and concatenate if repeating. (Note: semicolon is placed in first character to facilitate searches)","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(3000),Yes
90,direct input,Diagnosis Code Segment,Primary diagnosis of the patient's condition / Additional diagnoses of the patient's condition - segment,Yes,DG1-3,N/A,[1.. 1],CE,NA,Diagnosis_Combo,"Store Diagnosis_Code and Diagnosis_Description in this field, accounting for null values.

For Repeating Codes store the values using the following methodology:
Code Description;Code Description;…

Note the space between Code and Description","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(8000),Yes
90,direct input,Diagnosis Code Segment,Primary diagnosis of the patient's condition / Additional diagnoses of the patient's condition - segment,Yes,DG1-3,N/A,[1.. 1],CE,NA,Diagnosis_Segment,"Direct input from HL7 message
DG1-3

Concatenate repeating segments","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(8000),Yes
91,direct input,Diagnosis Type,Qualifier for diagnosis / Injury Code specifying type of diagnosis,Yes,DG1-6,RE,[1.. 1],IS,http://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.827,Diagnosis_Type,"Direct input from HL7 message
DG1-6.1

Concatenate repeating values","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(255),Yes
92,direct input,Diagnosis Priority,"Priority associated with the diagnosis code (admitting, primary, or ranked secondary diagnosis)",No,DG1-15,X,[0.. 1],ID,NA,Diagnosis_Priority,"Direct input from HL7 message
DG1-15.1

Concatenate if repeating","Not supported by PHIN Guide
Supported by HL7",varchar(100),Yes
93,direct input,Discharge Disposition,Patient's anticipated location or status following discharge,Yes,PV1-36,RE,[1.. 1],IS,http://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.915,Discharge_Disposition,"Direct input from HL7 message
PV1-36.1","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(255),Yes
94,conditional input,Triage Notes,Triage Notes for the patient visit,Yes,"OBX-2, OBX-3, OBX-5",O,[0.. 1],TX,NA,Triage_Notes,"Entire OBX segment where:
* OBX-3 Observation Identifier 54094-8 Emergency Department Triage Notes
* OBX-2=""TX""

Populate this field with the OBX-5.1 segment; concatenate repeating segments","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(8000),Yes
95,direct input,Gender / Administrative Sex,Stated gender of the patient,Yes,PID-8,RE,[0.. 1],IS,http://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.3403,Administrative_Sex,"Direct input from HL7 message
PID-8.1","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(20),Yes
96,direct input,Race - codes,Race of patient - codes,Yes,PID-10.1,RE,[0.. *],CE,http://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.836,Race_Code,"Direct input from HL7 message:
PID-10.1, PID-10.4

Select first non-null value and concatenate if repeating","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(100),Yes
97,direct input,Race - code values,Race of patient - code values,Yes,PID-10.2,RE,[0.. *],CE,NA,Race_Description,"Direct input from HL7 message:
PID-10.2, PID-10.5

Select first non-null value and concatenate if repeating","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(600),Yes
98,direct input,Race - segment,Race of patient - segment,Yes,PID-10,N/A,[0.. *],CE,NA,Race_Segment,"Direct input from HL7 message
PID-10 segment

concatenate repeating segments (non-null only)","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(800),Yes
99,direct input,Ethnicity - codes,Ethnicity of Patient - codes,Yes,PID-22.1,RE,[0.. 1],CE,http://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.837,Ethnicity_Code,"Direct input from HL7 message:
PID-22.1, PID-22.4

Select first non-null value and concatenate if repeating","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(100),Yes
100,direct input,Ethnicity - code values,Ethnicity of Patient - code values,Yes,PID-22.2,RE,[0.. 1],CE,NA,Ethnicity_Description,"Direct input from HL7 message:
PID-22.2, PID-22.5

Select first non-null value and concatenate if repeating","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(600),Yes
101,direct input,Ethnicity - segment,Ethnicity of Patient - Segment,Yes,PID-22,N/A,[0.. 1],CE,NA,Ethnicity_Segment,"Direct input from HL7 message
PID-22 segment

concatenate repeating segments (non-null only)","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(800),Yes
102,conditional input,Initial Temperature,Initial temperature of the patient,Yes,"OBX-2, OBX-3, OBX-5.1",O,[0.. 1],NM,http://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.919,Initial_Temp,"OBX-5.1 Segment where
* OBX-3 = 11289-6 AND/OR
* OBX-3 = 8310-5 AND
* OBX-2 = ""NM""

concatenate repeating segments

NOTE: If the Initial Temp measurement reported does not ""fit"" into the decimal(6,2) data type, the measurement will not be stored in Initial_Temp. The string value of the measurement will still be stored in Str_Initial_Temp.","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)

OBX-3 ""8310-5"" is from legacy guide and is going to continue being supported.","decimal(6,2)",Yes
102,conditional input,Initial Temperature,Initial temperature of the patient,Yes,"OBX-2, OBX-3, OBX-5.1",N/A,[0.. 1],NM,NA,Str_Initial_Temp,"OBX-5.1 Segment where
* OBX-3 = 11289-6 AND/OR
* OBX-3 = 8310-5 AND
* OBX-2 = ""NM""

concatenate repeating segments

Stored as a String in the database","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)

OBX-3 ""8310-5"" is from legacy guide and is going to continue being supported.",varchar(20),Yes
103,conditional input,Initial Temperature (Units),Initial temperature of the patient (units),Yes,"OBX-2, OBX-3, OBX-6.2",O,[0.. 1],NM,https://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.919,Initial_Temp_Units,"OBX-6.2 Segment where
* OBX-3 = 11289-6 AND/OR
* OBX-3 = 8310-5 AND
* OBX-2 = ""NM""

concatenate repeating segments","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)

OBX-3 ""8310-5"" is from legacy guide and is going to continue being supported.",varchar(50),Yes
104,direct input,Assigned Patient Location,Contains the patient's initial assigned location or the location to which the patient is being moved,No,PV1-3,O,[0.. 1],PL,NA,Assigned_Patient_Location,"Direct input from HL7 message
PV1-3.1","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(100),Yes
105,direct input,Alternate Visit ID,Alternate visit ID,No,PV1-50,X,[0.. 1],CX,NA,Alternate_Visit_ID,"Direct input from HL7 message
PV1-50.1","Not supported by PHIN Guide
Supported by HL7",varchar(100),Yes
106,direct input,Procedure Code,Procedures administered to the patient - code(s),Yes,PR1-3,O,[1.. 1],CE,NA,Procedure_Code,"Direct input from HL7 message:
PR1-3.1, PR1-3.4

Select first non-null value and concatenate if repeating","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(8000),Yes
107,direct input,Procedure Code Description,Procedures administered to the patient - code description(s),Yes,PR1-3,O,[1.. 1],CE,NA,Procedure_Description,"Direct input from HL7 message.
PR1-3.2, PR1-3.5

Select first non-null value and concatenate if repeating","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(3000),Yes
118,conditional input,Initial Acuity - Segment,Assessment of the intensity of medical care the patient requires - segment(s),Yes,"OBX-2, OBX-3, OBX-5.1",N/A,[0.. 1],CWE,https://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.912,Initial_Acuity_Combo,"Store Initial_Acuity_Code and Initial_Acuity_Description in this field, accounting for null values.

For Repeating Codes store the values using the following methodology:
Code Description;Code Description;…

Note the space between Code and Description","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(8000),No
108,direct input,Procedure Code Segment,Procedures administered to the patient - segment,Yes,PR1-3,N/A,[1.. 1],CE,NA,Procedure_Segment,"Direct input from HL7 message
PR1-3 segment

if repeating, concatenate segments","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(8000),Yes
109,conditional input,Date of onset,Date that the patient began having symptoms of condition being reported,Yes,"OBX-2, OBX-3, OBX-5",O,[0.. 1],TS,NA,Onset_Date,"OBX-5.1 segment where:
* OBX-3 = 11368-8
* OBX-2=""TS""","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",datetime2,No
110,conditional input,Clinical impression,Clinical impression (free text) of the diagnosis,Yes,"OBX-2, OBX-3, OBX-5",O,[0.. 1],TX,NA,Clinical_Impression,"Entire OBX segment where:
* OBX-3 = 44833-2
* OBX-3 = 11300-1
* OBX-2 = ""TX""

If repeating, concatenate values","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)

11300-1 is included for Legacy processing.",varchar(8000),Yes
111,conditional input,Problem List - Code,"Problem List of the patient condition(s) - code(s)

Similar to Chief Complaint and contains a list of all complaints or clinical findings",Yes,"OBX-2, OBX-3, OBX-5",O,[0.. *],CWE,NA,Problem_List_Code,"OBX-5.1, OBX-5.4 segment where:
* OBX-3 = 11450-4 AND/OR
* OBX-3 = 18624-7 OR
* OBX-2 = ""CWE""

Select all non-null values and concatenate if repeating","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)

11450-4 is included for Legacy processing.",varchar(255),Yes
112,conditional input,Problem List - Description,"Problem List of the patient condition(s) - code description(s)

Similar to Chief Complaint and contains a list of all complaints or clinical findings",Yes,"OBX-2, OBX-3, OBX-5",O,[0.. *],CWE,NA,Problem_List_Description,"OBX-5 segment where:
* OBX-3 = 11450-4 AND/OR
* OBX-3 = 18624-7 OR
* OBX-2 = ""CWE""

Populate with OBX-5.2, OBX-5.5, OBX-5.9.  If repeating, concatenate values.","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)

11450-4 is included for Legacy processing.",varchar(3000),Yes
152,conditional input,Medications Prescribed or Dispensed - Segment,Current medications entered as standardized codes - segment,Yes,"OBX-2, OBX-3, OBX-5",N/A,[0.. *],CWE,NA,Medication_Combo,"Store Medication_Code and Medication_Description in this field, accounting for null values.

For Repeating Codes store the values using the following methodology:
Code Description;Code Description;…

Note the space between Code and Description","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(800),Yes
113,conditional input,Problem List - Segment,"Problem List of the patient condition(s) - segment(s)

Similar to Chief Complaint and contains a list of all complaints or clinical findings",Yes,"OBX-2, OBX-3, OBX-5",N/A,[0.. *],CWE,NA,Problem_List_Segment,"Entire OBX segment where:
* OBX-3 = 11450-4 AND/OR
* OBX-3 = 18624-7 OR
* OBX-2 = ""CWE""

Populate with OBX-5 segment.  If repeating, concatenate values.","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)

11450-4 is included for Legacy processing.",varchar(8000),Yes
114,conditional input,Initial Pulse Oximetry,First recorded pulse oximetry value,Yes,"OBX-2, OBX-3, OBX-5.1",O,[0.. 1],NM,NA,Initial_Pulse_Oximetry,"OBX-5.1 segment where:
* OBX-3 = 59408-5 
* OBX-2=""NM""","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",int,No
114,conditional input,Initial Pulse Oximetry,First recorded pulse oximetry value,Yes,"OBX-2, OBX-3, OBX-5.1",N/A,[0.. 1],NM,NA,Str_Initial_Pulse_Oximetry,"OBX-5.1 segment where:
* OBX-3 = 59408-5 
* OBX-2=""NM""

Stored as a String in the database","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(10),No
115,conditional input,Initial Pulse Oximetry (Units),First recorded pulse oximetry value (units),Yes,"OBX-2, OBX-3, OBX-6.2",O,[0.. 1],NM,http://phinvads.cdc.gov/vads/ViewValueSet.action?id=A7453ADB-5505-E011-9273-00188B39829B,Initial_Pulse_Oximetry_Units,"OBX-6.2 segment where:
* OBX-3 = 59408-5 
* OBX-2=""NM""","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(50),No
116,conditional input,Initial Acuity - Code,Assessment of the intensity of medical care the patient requires - code(s),Yes,"OBX-2, OBX-3, OBX-5.1",O,[0.. 1],CWE,http://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.912,Initial_Acuity_Code,"OBX-5.1, OBX-5.4 segment where:
* OBX-3 = 11283-9
* OBX-2=""CWE"" or ""TX""

Select first non-null value and concatenate if repeating","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(255),No
117,conditional input,Initial Acuity - Description,Assessment of the intensity of medical care the patient requires - code description(s),Yes,"OBX-2, OBX-3, OBX-5.1",O,[0.. 1],CWE,NA,Initial_Acuity_Description,"OBX-5 segment where:
* OBX-3 = 11283-9
* OBX-2=""CWE"" or ""TX""

Concatenate non-null values from OBX-5.2, OBX-5.5, OBX-5.9","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(3000),No
113,conditional input,Problem List - Segment,"Problem List of the patient condition(s) - segment(s)

Similar to Chief Complaint and contains a list of all complaints or clinical findings",Yes,"OBX-2, OBX-3, OBX-5",N/A,[0.. *],CWE,NA,Problem_List_Combo,"Store Problem_List_Code and Problem_List_Description in this field, accounting for null values.

For Repeating Codes store the values using the following methodology:
Code Description;Code Description;…

Note the space between Code and Description","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)

11450-4 is included for Legacy processing.",varchar(8000),Yes
118,conditional input,Initial Acuity - Segment,Assessment of the intensity of medical care the patient requires - segment(s),Yes,"OBX-2, OBX-3, OBX-5.1",N/A,[0.. 1],CWE,NA,Initial_Acuity_Segment,"Entire OBX segment where:
* OBX-3 = 11283-9
* OBX-2=""CWE"" or ""TX""","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(8000),No
119,direct input,Servicing Facility,Servicing facility,No,PV1-39.1,X,[0.. 1],IS,NA,Servicing_Facility,"Direct input from HL7 message 
PV1-39.1","Not supported by PHIN Guide
Supported by HL7",varchar(200),Yes
120,direct input,Unique Physician Identifier (Attending Doctor),Unique identifier for the physician providing care,Yes,PV1-7.1,O,[0.. *],XCN,NA,Unique_Physician_Identifier,"Direct input from HL7 message
PV1-7.1","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(100),Yes
121,direct input,Unique Physician Identifier - Assigning Authority,Assigning Authority for the Unique Physician Identifier,No,PV1-7.9,O,[0.. *],HD,NA,Unique_Physician_Identifier_Assigning_Authority,"Direct input from HL7 message
PV1-7.9","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(200),Yes
122,conditional input,Provider Type - code,Provider Type from National Uniform Claim Committee (NUCC) Healthcare Provider Taxonomy Code System - code,Yes,"OBX-2, OBX-3, OBX-5.1",O,[0.. *],CWE,NA,Provider_Type_Code,"OBX-5.1, OBX-5.4 segment where:
* OBX-3 = ""54582-2"" Provider Type
* OBX-2 = ""CWE""

Select first non-null value and concatenate if repeating","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(50),Yes
123,conditional input,Provider Type - code description,Provider Type from National Uniform Claim Committee (NUCC) Healthcare Provider Taxonomy Code System - code description,Yes,"OBX-2, OBX-3, OBX-5.2",O,[0.. *],CWE,NA,Provider_Type_Description,"OBX-5 segment where:
* OBX-3 = ""54582-2"" Provider Type
* OBX-2 = ""CWE""

Include non-null values for OBX-5.2, OBX-5.5, OBX-5.9","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(600),Yes
108,direct input,Procedure Code Segment,Procedures administered to the patient - segment,Yes,PR1-3,N/A,[1.. 1],CE,NA,Procedure_Combo,"Store Procedure_Code and Procedure_Description in this field, accounting for null values.

For Repeating Codes store the values using the following methodology:
Code Description;Code Description;…

Note the space between Code and Description","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(8000),Yes
124,conditional input,Provider Type - segment,Provider Type from National Uniform Claim Committee (NUCC) Healthcare Provider Taxonomy Code System - segment,Yes,"OBX-2, OBX-3, OBX-5",N/A,[0.. *],CWE,NA,Provider_Type_Segment,"Entire OBX segment where:
* OBX-3 = ""54582-2"" Provider Type
* OBX-2 = ""CWE""","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(800),Yes
125,direct input,Patient City/Town,City or town of patient residence,Yes,PID-11.3,RE,[0.. 1],XAD,NA,Patient_City,"Direct input from HL7 message
PID-11.3","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(80),No
126,direct input,Patient State,State of patient residence,Yes,PID-11.4,O,[0.. 1],XAD,http://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.830,Patient_State,"Direct input from HL7 message
PID-11.4","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(50),No
127,direct input,Patient Country,Country of patient residence,Yes,PID-11.6,O,[0.. 1],XAD,http://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.829,Patient_Country,"Direct input from HL7 message
PID-11.6","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(50),No
128,conditional input,Hospital Unit - code,Hospital unit where patient is at the time the message is sent (admission and discharge) - code,Yes,"OBX-2, OBX-3, OBX-5.1",RE,[0.. 1],CWE,NA,Hospital_Unit_Code,"OBX-5.1, OBX-5.4 segment where:
* OBX-3 = ""56816-2"" Patient Location (LOINC)
* OBX-2 = ""CWE""

Select first non-null value and concatenate if repeating","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(50),No
129,conditional input,Hospital Unit - code description,Hospital unit where patient is at the time the message is sent (admission and discharge) - code description,Yes,"OBX-2, OBX-3, OBX-5.2",RE,[0.. 1],CWE,NA,Hospital_Unit_Description,"OBX-5.2, OBX-5.5, OBX-5.9 segment where:
* OBX-3 = ""56816-2"" Patient Location (LOINC)
* OBX-2 = ""CWE""

Select first non-null value and concatenate if repeating","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(600),No
130,conditional input,Hospital Unit - segment,Hospital unit where patient is at the time the message is sent (admission and discharge) - segment,Yes,"OBX-2, OBX-3, OBX-5",N/A,[0.. 1],CWE,NA,Hospital_Unit_Segment,"Entire OBX segment where:
* OBX-3 = ""56816-2"" Patient Location (LOINC)
* OBX-2 = ""CWE""","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(800),No
131,conditional input,Height,Height of the patient,Yes,"OBX-2, OBX-3, OBX-5.1",O,[0.. 1],NM,NA,Height,"OBX-5.1 segment where:
* OBX-3 = ""8302-2"" Body Height (LOINC)
* OBX-2 = ""NM""

NOTE: If the Height measurement reported does not ""fit"" into the decimal(6,2) datatype, the measurement will not be stored in Height. The string value of the measurement will still be stored in Str_Height.","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)","decimal(6,2)",Yes
131,conditional input,Height,Height of the patient,Yes,"OBX-2, OBX-3, OBX-5.1",N/A,[0.. 1],NM,NA,Str_Height,"OBX-5.1 segment where:
* OBX-3 = ""8302-2"" Body Height (LOINC)
* OBX-2 = ""NM""

Stored as a String in the database","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(10),Yes
132,conditional input,Height Units,Height of the patient (units),Yes,"OBX-2, OBX-3, OBX-6.2",O,[0.. 1],NM,https://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.891,Height_Units,"OBX-6.2 segment where:
* OBX-3 = ""8302-2"" Body Height (LOINC)
* OBX-2 = ""NM""","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(50),Yes
133,conditional input,Weight,Weight of the patient,Yes,"OBX-2, OBX-3, OBX-5.1",N/A,[0.. 1],NM,NA,Str_Weight,"OBX-5.1 segment where:
* OBX-3 = ""3141-9"" Body Weight Measured (LOINC)
* OBX-2 = ""NM""

Stored as a String in the database","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(10),Yes
133,conditional input,Weight,Weight of the patient,Yes,"OBX-2, OBX-3, OBX-5.1",O,[0.. 1],NM,NA,Weight,"OBX-5.1 segment where:
* OBX-3 = ""3141-9"" Body Weight Measured (LOINC)
* OBX-2 = ""NM""

NOTE: If the Weight measurement reported does not ""fit"" into the decimal(6,2) datatype, the measurement will not be stored in Weight. The string value of the measurement will still be stored in Str_Weight.","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)","decimal(6,2)",Yes
134,conditional input,Weight Units,Weight of the patient (units),Yes,"OBX-2, OBX-3, OBX-6.2",O,[0.. 1],NM,https://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.879,Weight_Units,"OBX-6.2 segment where:
* OBX-3 = ""3141-9"" Body Weight Measured (LOINC)
* OBX-2 = ""NM""","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(50),Yes
135,conditional input,BMI,Body Mass Index,Yes,"OBX-2, OBX-3, OBX-5.1",O,[0.. 1],NM,NA,Body_Mass_Index,"OBX-5.1 segment where:
* OBX-3 = ""59574-4"" Body Mass Index (LOINC)
* OBX-2 = ""NM""","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",int,Yes
135,conditional input,BMI,Body Mass Index,Yes,"OBX-2, OBX-3, OBX-5.1",N/A,[0.. 1],NM,NA,Str_Body_Mass_Index,"OBX-5.1 segment where:
* OBX-3 = ""59574-4"" Body Mass Index (LOINC)
* OBX-2 = ""NM""

Stored as a String in the database","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(10),Yes
136,conditional input,Smoking Status - Code,Smoking status of patient - code,Yes,"OBX-2, OBX-3, OBX-5",O,[0.. 1],CWE,https://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.6027,Smoking_Status_Code,"OBX-5.1, OBX-5.4 segment where:
* OBX-3 = ""72166-2"" Tobacco Smoking Status (LOINC)
* OBX-2 = ""CWE""

Select first non-null value and concatenate if repeating","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(50),Yes
137,conditional input,Smoking Status - Code Description,Smoking status of patient - code description,Yes,"OBX-2, OBX-3, OBX-5",O,[0.. 1],CWE,NA,Smoking_Status_Description,"OBX-5 segment where:
* OBX-3 = ""72166-2"" Tobacco Smoking Status (LOINC)
* OBX-2 = ""CWE""

Include non-null values for OBX-5.2, OBX-5.5, OBX-5.9","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(600),Yes
138,conditional input,Smoking Status - Segment,Smoking status of patient - segment,Yes,"OBX-2, OBX-3, OBX-5",N/A,[0.. 1],CWE,NA,Smoking_Status_Segment,"Entire OBX segment where:
* OBX-3 = ""72166-2"" Tobacco Smoking Status (LOINC)
* OBX-2 = ""CWE""","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(800),Yes
139,conditional input,Systolic Blood Pressure,Most recent systolic blood pressure of the patient,Yes,"OBX-2, OBX-3, OBX-5.1",N/A,[0.. 1],NM,NA,Str_Systolic_Blood_Pressure,"OBX-5.1 segment where:
* OBX-3 = ""8480-6""
* OBX-2 = ""NM""

Stored as a String in the database","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(10),Yes
139,conditional input,Systolic Blood Pressure,Most recent systolic blood pressure of the patient,Yes,"OBX-2, OBX-3, OBX-5.1",O,[0.. 1],NM,NA,Systolic_Blood_Pressure,"OBX-5.1 segment where:
* OBX-3 = ""8480-6""
* OBX-2 = ""NM""","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",int,Yes
140,conditional input,Systolic Blood Pressure - Units,Most recent systolic blood pressure of the patient - units,Yes,"OBX-2, OBX-3, OBX-6.2",O,[0.. 1],NM,https://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.920,Systolic_Blood_Pressure_Units,"OBX-6.2 segment where:
* OBX-3 = ""8480-6""
* OBX-2 = ""NM""","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(50),Yes
141,conditional input,Diastolic Blood Pressure,Most recent diastolic blood pressure of the patient,Yes,"OBX-2, OBX-3, OBX-5.1",O,[0.. 1],NM,NA,Diastolic_Blood_Pressure,"OBX-5.1 segment where:
* OBX-3 = ""8462-4""
* OBX-2 = ""NM""","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",int,Yes
141,conditional input,Diastolic Blood Pressure,Most recent diastolic blood pressure of the patient,Yes,"OBX-2, OBX-3, OBX-5.1",N/A,[0.. 1],NM,NA,Str_Diastolic_Blood_Pressure,"OBX-5.1 segment where:
* OBX-3 = ""8462-4""
* OBX-2 = ""NM""
Stored as a String in the database","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(10),Yes
142,conditional input,Diastolic Blood Pressure - Units,Most recent diastolic blood pressure of the patient - units,Yes,"OBX-2, OBX-3, OBX-6.2",O,[0.. 1],NM,NA,Diastolic_Blood_Pressure_Units,"OBX-6.2 segment where:
* OBX-3 = ""8462-4""
* OBX-2 = ""NM""","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(50),Yes
143,conditional input,Systolic and Diastolic Blood Pressure,Most recent systolic and diastolic blood pressure of the patient,Yes,"OBX-2, OBX-3, OBX-5",N/A,[0.. 1],NM,NA,Str_Systolic_Diastolic_Blood_Pressure,"OBX-5 segment where:
* OBX-3 = ""35094-2""
* OBX-2 = ""SN""

Stored as a String in the database",This is a panel value where the recording system may send both the Systolic and Diastolic Blood pressures together.,varchar(20),Yes
143,conditional input,Systolic and Diastolic Blood Pressure,Most recent systolic and diastolic blood pressure of the patient,Yes,"OBX-2, OBX-3, OBX-5",O,[0.. 1],NM,NA,Systolic_Diastolic_Blood_Pressure,"OBX-5 segment where:
* OBX-3 = ""35094-2""
* OBX-2 = ""SN""",This is a panel value where the recording system may send both the Systolic and Diastolic Blood pressures together.,int,Yes
144,conditional input,Systolic and Diastolic Blood Pressure Units,Most recent systolic and diastolic blood pressure of the patient - Units,Yes,"OBX-2, OBX-3, OBX-6.2",O,[0.. 1],NM,https://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.920,Systolic_Diastolic_Blood_Pressure_Units,"OBX-6.2 segment where:
* OBX-3 = ""35094-2""
* OBX-2 = ""SN""",This is a panel value where the recording system may send both the Systolic and Diastolic Blood pressures together.,varchar(100),Yes
145,direct input,Event Type Code,Event type that triggers a message submission,NA,EVN-1.1,RE,[0.. 1],ID,NA,Event_Type_Code,"Direct input from HL7 message
EVN-1.1","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(20),Yes
146,direct input,Insurance Coverage,Health insurance coverage of the patient,Yes,IN1-15,O,[0.. 1],IS,NA,Insurance_Coverage,"Direct input from HL7 message
IN1-15","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(20),Yes
147,not ingested,Insurance Plan ID,Insurance plan associated with the patient,No,IN1-2,R,[1.. 1],CE,NA,NA,Not Ingested,"PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)

This could contain Insurance ID, which may be SSN for certain patients.",NA,N/A
148,direct input,Insurance Company ID,Insurance company ID,No,IN1-3,R,[1.. *],CX,NA,Insurance_Company_ID,"Direct input from HL7 message:
IN1-3.1","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(100),Yes
149,conditional input,Medication List,Current medications entered as narrative,Yes,"OBX-2, OBX-3, OBX-5",O,[0.. *],TX,NA,Medication_List,"Entire OBX segment where:
* OBX-3 = ""10160-0""
* OBX-2 = ""TX""","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(8000),Yes
150,conditional input,Medications Prescribed or Dispensed - Code,Current medications entered as standardized codes - code,Yes,"OBX-2, OBX-3, OBX-5",O,[0.. *],CWE,NA,Medication_Code,"OBX-5.1, OBX-5.4 segment where:
* OBX-3 = ""8677-7"" History of Medication Use Reported (LOINC)
* OBX-2 = ""CWE""

Select all non-null values and concatenate if repeating","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(50),Yes
151,conditional input,Medications Prescribed or Dispensed - Description,Current medications entered as standardized codes - code description,Yes,"OBX-2, OBX-3, OBX-5",O,[0.. *],CWE,NA,Medication_Description,"OBX-5 segment where:
* OBX-3 = ""8677-7"" History of Medication Use Reported (LOINC)
* OBX-2 = ""CWE""

Include non-null values from segments OBX-5.2, OBX-5.5, OBX-5.9","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(600),Yes
124,conditional input,Provider Type - segment,Provider Type from NUCC Healthcare Provider Taxonomy Code System - segment,Yes,"OBX-2, OBX-3, OBX-5",N/A,[0.. *],CWE,NA,Provider_Type_Combo,"Store Provider_Type_Code and Provider_Type_Description in this field, accounting for null values.

For Repeating Codes store the values using the following methodology:
Code Description;Code Description;…

Note the space between Code and Description","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(800),Yes
152,conditional input,Medications Prescribed or Dispensed - Segment,Current medications entered as standardized codes - segment,Yes,"OBX-2, OBX-3, OBX-5",N/A,[0.. *],CWE,NA,Medication_Segment,"Entire OBX segment where:
* OBX-3 = ""8677-7"" History of Medication Use Reported (LOINC)
* OBX-2 = ""CWE""","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(800),Yes
153,direct input,Previous Hospital Unit,Hospital unit where patient was prior to the current transaction,Yes,PV1-6.1,O,[0.. 1],PL,NA,Previous_Hospital_Unit,"Direct input from HL7 message
PV1-6.1","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(80),Yes
154,conditional input,Pregnancy Status - Code,Whether the patient is pregnant during the encounter - code,Yes,"OBX-2, OBX-3, OBX-5",O,[0.. 1],CWE,NA,Pregnancy_Status_Code,"OBX-5.1, OBX-5.4 segment where:
* OBX-3 = ""11449-6"" Pregnancy Status (LOINC)
* OBX-2 = ""CWE""

Select first non-null value and concatenate if repeating","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(50),Yes
155,conditional input,Pregnancy Status - Description,Whether the patient is pregnant during the encounter - Description,Yes,"OBX-2, OBX-3, OBX-5",O,[0.. 1],CWE,NA,Pregnancy_Status_Description,"OBX-5.2, OBX-5.5, OBX-5.9 segment where:
* OBX-3 = ""11449-6"" Pregnancy Status (LOINC)
* OBX-2 = ""CWE""

Select first non-null value and concatenate if repeating","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(600),Yes
156,conditional input,Pregnancy Status - Segment,Whether the patient is pregnant during the encounter - Segment,Yes,"OBX-2, OBX-3, OBX-5",N/A,[0.. 1],CWE,NA,Pregnancy_Status_Segment,"Entire OBX segment where:
* OBX-3 = ""11449-6"" Pregnancy Status (LOINC)
* OBX-2 = ""CWE""","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(800),Yes
157,direct input,Hospital Service,Treatment or type of surgery that the patient is scheduled to receive,No,PV1-10.1,O,[0.. 1],IS,NA,Hospital_Service,"Direct input from HL7 message
PV1-10.1","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(500),Yes
158,direct input,Admit Source,Indicates where the patient was admitted,Yes,PV1-14.1,O,[0.. 1],IS,https://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.918,Admit_Source,"Direct input from HL7 message:
PV1-14.1","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(15),Yes
159,direct input,Ambulatory Status,Indicates any permanent or transient handicapped conditions,No,PV1-15.1,O,[0.. *],IS,NA,Ambulatory_Status,"Direct input from HL7 message
PV1-15.1","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)

Ambulatory_Status is currently treated as non-repeating. Will change processing to treat Ambulatory_Status as repeating, as it should be.",varchar(50),Yes
160,direct input,Admission Type,Indicates the circumstances under which the patient was or will be admitted,Yes,PV1-4,O,[0.. 1],IS,http://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.913,Admission_Type,"Direct input from HL7 message
PV1-4.1","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(15),Yes
161,conditional input,Travel History,Travel History as Narrative,Yes,"OBX-2, OBX-3, OBX-5",O,[0.. *],TX,NA,Travel_History,"Entire OBX segment where:
* OBX-3 = ""10182-4"" History of Travel Narrative (LOINC)
* OBX-2 = ""TX""","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(8000),Yes
162,not ingested,Treating Facility Address,"Address of treating facility location (street address, city, zip code, county, state)",Yes,"OBX-2, OBX-3, OBX-5",O,[0.. 1],XAD,NA,NA,Not Ingested,"Not ingested due to reliability of information; Facility Address and other metadata will be pulled from the MFT/crosswalk based on the ""Facility_ID""",NA,N/A
163,not ingested,Patient Name,Patient's name,No,PID-5,R,[1.. *],XPN,NA,NA,Not Ingested,This field can be personally identifiable,NA,N/A
164,conditional input,Discharge Instructions,Hospital discharge instructions,No,"OBX-2, OBX-3, OBX-5",X,??,TX,NA,Discharge_Instructions,"Entire OBX segment where:
* OBX-3 = ""8653-8"" Hospital Discharge Instructions
* OBX-2 = ""TX""","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(8000),Yes
165,conditional input,Initial Evaluation Note,NA,No,"OBX-2, OBX-3, OBX-5",??,??,TX,NA,Initial_Evaluation_Note,"OBX-5.1 segment where:
* OBX-3 = ""34120-6""
* OBX-2 = ""TX""","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(8000),Yes
NA,direct input,Diagnosis Date/Time,Date and time of the diagnosis,No,DG1-5,N/A,[0.. 1],TS,NA,Str_Diagnosis_Date_Time,"Direct input from HL7 message
DG1-5.1

If repeating, select the earliest date.

Stored as a String in the database","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)

Return the earliest date/time to select the first occurrence.",varchar(24),No
NA,conditional input,Date/Time of the Observation,Earliest date and time associated with the observation,No,OBX-14,N/A,[0.. 1],TS,NA,Str_Observation_Date_Time,"Direct input from HL7 message
OBX-14

If repeating, select the earliest date.

Stored as a String in the database","It is possible to receive historic data here. For example, if Height was taken from a previous appointment, the recording system may simply reuse that OBX segment in the new visit while retaining the same OBX-14 from when it was initially recorded. While we should ingest it, we should be cautious in using it for C_Visit_Date",varchar(24),No
NA,conditional input,Date of onset,Date that the patient began having symptoms of condition being reported,Yes,"OBX-2, OBX-3, OBX-5",N/A,[0.. 1],TS,NA,Str_Onset_Date,"OBX-5.1 segment where:
* OBX-3 = 11368-8
* OBX-2=""TS""

Stored as a String in the database","PHIN Messaging Guide for Syndromic Surveillance, Release 2.0 (April 2015)",varchar(24),No
NA,calculated,Update Essence,NA,NA,NA,NA,NA,N/A,NA,Update_Essence,This value will default to 'N' when a record is inserted into the Processed table. Once the record has been successfully written into the ESSENCE Staging table it will be updated to 'Y',NA,char(1),No
NA,calculated,BioSense Agnostic ID,This uniquely identifies a facility regardless of if the FacilityID_UUID changes over time,N/A,N/A,N/A,N/A,N/A,NA,C_BioSense_Facility_ID,This field will be looked up from the Operational Crosswalk at the time of processing and associated with this record.,This uniquely identifies a facility regardless of if the FacilityID_UUID changes over time,int,No
NA,calculated,Calculated Body Mass Index,Placeholder for potential need to calculate BMI leveraging the reported BMI or the reported height and weight,N/A,N/A,N/A,N/A,N/A,NA,C_BMI,N/A,NA,"decimal(6,2)",N/A
